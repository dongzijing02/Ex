//DP
#include<bits/stdc++.h>
using namespace std;
int n, now_event, pre_event, t[10005], tmp, ans = 0;
int main() {
	cin >> n;
	for (int i = 1; i <= n; i++) {
		cin >> now_event >> tmp >> pre_event;
		if (now_event == 1)
			t[now_event] = tmp;
		while (pre_event) {
			t[now_event] = max(t[pre_event] + tmp, t[now_event]);
			cin >> pre_event;
		}
		//并不是最后一个过程就一定是结束点，有的过程也是
		//比如建房子，安窗户和安门都是结束点
		ans = max(ans, t[now_event]);
	}
	cout << ans;
	return 0;
}